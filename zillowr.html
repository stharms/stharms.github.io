<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interfacing with Zillow's API in R • realEstAnalytics</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Interfacing with Zillow's API in R">
<meta property="og:description" content="This \code{R} package supplies functions for several different calls to Zillow's Real Estate API directly from R and returns the property data in a tidy format. NOTE: A valid Zillow Web Services ID (ZWSID) that can be obtained by signing up
 at https://www.zillow.com/webservice/Registration.htm .">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">realEstAnalytics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/zillow-vignette.html">Exploring Zillow Real Estate Data: Introduction to realEstAnalytics</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/xiyuansun/realEstAnalytics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="realestanalytics" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#realestanalytics" class="anchor"></a>realEstAnalytics</h1></div>
<!-- badges: start -->

<p>The goal of realEstAnalytics is to provide an R function for each zillow API service, making it easy to make API calls and process the responses into R-friendly data structures.</p>
<div id="website" class="section level2">
<h2 class="hasAnchor">
<a href="#website" class="anchor"></a>Website</h2>
<ul>
<li><p>The package is hosted at <a href="https://www.realestanalyticsr.com/" class="uri">https://www.realestanalyticsr.com/</a></p></li>
<li><p>For an Rshiny app demonstrating some of the package’s capabilities, go to <a href="https://xiyuansun2010.shinyapps.io/realEstAnalytics_shiny_app/" class="uri">https://xiyuansun2010.shinyapps.io/realEstAnalytics_shiny_app/</a> (Note: Valid API key required for use)</p></li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of realEstAnalytics from <a href="https://github.com">Github</a> with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(devtools)
devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"xiyuansun/realEstAnalytics"</span>)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>Here are some basic examples of interfacing with Zillow’s API in <code>R</code>. All calls to the API require a unique Zillow API key, which you can acquire by signing up at <a href="https://www.zillow.com/howto/api/APIOverview.htm" class="uri">https://www.zillow.com/howto/api/APIOverview.htm</a> .</p>
<p>First, you should always set your API key, also known as a Zillow Web Service ID (ZWSID):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(realEstAnalytics)

<span class="co">#set the ZWS_ID</span>
<span class="kw"><a href="reference/zillow_web_service_id.html">set_zillow_web_service_id</a></span>(<span class="st">'YOUR_API_KEY'</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#retrieve the current ZWS_ID in use</span>
zapi_key =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">getOption</a></span>(<span class="st">'ZillowR-zws_id'</span>)</code></pre></div>
</div>
<div id="calling-the-zillow-api-from-r" class="section level2">
<h2 class="hasAnchor">
<a href="#calling-the-zillow-api-from-r" class="anchor"></a>Calling the Zillow API from R</h2>
<p>You can get basic information on a property based on its address using <code>GetDeepSearchResults</code>. The return is a dataframe with the property’s estimated value as well as other characteristics (i.e., bedrooms, bathrooms, etc.). To get results for more than one address at once, we recommend <code>GetDeepSearchResults_dataframe</code> rather than using an <code><a href="https://www.rdocumentation.org/packages/base/topics/apply">apply()</a></code> or other mapping function, because some addresses have multiple properties.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/GetDeepSearchResults.html">GetDeepSearchResults</a></span>(<span class="st">'2902 Wood St.'</span>, <span class="dt">city=</span><span class="st">'Ames'</span>,<span class="dt">state=</span><span class="st">'IA'</span>, <span class="dt">zipcode=</span><span class="dv">50014</span>,
                     <span class="dt">rentzestimate=</span><span class="ot">TRUE</span>,
                     <span class="dt">api_key=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">getOption</a></span>(<span class="st">'ZillowR-zws_id'</span>))
<span class="co">#&gt; # A tibble: 1 x 31</span>
<span class="co">#&gt;   address zipcode city  state   lat  long region_name region_id type </span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;</span>
<span class="co">#&gt; 1 2902 W~ 50014   Ames  IA     42.0 -93.7 College Cr~ 764177    neig~</span>
<span class="co">#&gt; # ... with 22 more variables: zestimate &lt;dbl&gt;, zest_lastupdated &lt;date&gt;,</span>
<span class="co">#&gt; #   zest_monthlychange &lt;dbl&gt;, zest_percentile &lt;dbl&gt;, zestimate_low &lt;dbl&gt;,</span>
<span class="co">#&gt; #   zestimate_high &lt;dbl&gt;, rentzestimate &lt;dbl&gt;, rent_lastupdated &lt;date&gt;,</span>
<span class="co">#&gt; #   rent_monthlychange &lt;dbl&gt;, rentzestimate_low &lt;dbl&gt;,</span>
<span class="co">#&gt; #   rentzestimate_high &lt;dbl&gt;, zpid &lt;chr&gt;, bathrooms &lt;dbl&gt;, bedrooms &lt;dbl&gt;,</span>
<span class="co">#&gt; #   finishedSqFt &lt;dbl&gt;, lastSoldDate &lt;chr&gt;, lastSoldPrice &lt;dbl&gt;,</span>
<span class="co">#&gt; #   lotSizeSqFt &lt;dbl&gt;, taxAssessment &lt;dbl&gt;, taxAssessmentYear &lt;dbl&gt;,</span>
<span class="co">#&gt; #   totalRooms &lt;dbl&gt;, yearBuilt &lt;dbl&gt;</span></code></pre></div>
<p>Use the <code>GetComps</code> or <code>GetDeepComps</code> to get comparable properties for a given Zillow Property ID (limit 25 comparables). The return is a data frame with the most comparable addresses and their Zestimate values, with more property information (i.e., the <code>GetDeepSearchResults</code> variables) available from <code>GetDeepComps</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#retrieve the zpid from GetDeepSearchResults</span>
zpidex &lt;-<span class="st"> </span><span class="kw"><a href="reference/GetDeepSearchResults.html">GetDeepSearchResults</a></span>(<span class="st">'600 S. Quail Ct.'</span>, <span class="dt">zipcode=</span><span class="dv">67114</span>,
                     <span class="dt">rentzestimate=</span><span class="ot">TRUE</span>, <span class="dt">api_key=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">getOption</a></span>(<span class="st">'ZillowR-zws_id'</span>))<span class="op">$</span>zpid

<span class="co">#GetComps for the '600 S. Quail Ct.' address</span>
<span class="kw"><a href="reference/GetComps.html">GetComps</a></span>(zpidex, <span class="dt">count=</span><span class="dv">10</span>, <span class="dt">rentzestimate=</span><span class="ot">TRUE</span>, <span class="dt">api_key =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">getOption</a></span>(<span class="st">'ZillowR-zws_id'</span>))
<span class="co">#&gt; # A tibble: 11 x 22</span>
<span class="co">#&gt;    address zipcode city  state   lat  long region_name region_id type </span>
<span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;</span>
<span class="co">#&gt;  1 600 S ~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt;  2 2137 B~ 67114   Newt~ KS     38.0 -97.4 Newton      19619     city </span>
<span class="co">#&gt;  3 2112 B~ 67114   Newt~ KS     38.0 -97.4 Newton      19619     city </span>
<span class="co">#&gt;  4 321 E ~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt;  5 427 Vi~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt;  6 410 Vi~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt;  7 2109 S~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt;  8 605 Au~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt;  9 506 Au~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt; 10 618 Au~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt; 11 3000 A~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt; # ... with 13 more variables: zestimate &lt;dbl&gt;, zest_lastupdated &lt;date&gt;,</span>
<span class="co">#&gt; #   zest_monthlychange &lt;dbl&gt;, zest_percentile &lt;dbl&gt;, zestimate_low &lt;dbl&gt;,</span>
<span class="co">#&gt; #   zestimate_high &lt;dbl&gt;, rentzestimate &lt;dbl&gt;, rent_lastupdated &lt;date&gt;,</span>
<span class="co">#&gt; #   rent_monthlychange &lt;dbl&gt;, rentzestimate_low &lt;dbl&gt;,</span>
<span class="co">#&gt; #   rentzestimate_high &lt;dbl&gt;, zpid &lt;chr&gt;, compscore &lt;dbl&gt;</span></code></pre></div>
<p>You can get the Zestimate (Zillow’s estimated home value) with <code>GetZestimate</code>. The return is a data frame with the Zillow-estimated value of the home, either the property value or the estimated rental value (if <code>rentzestimate=TRUE</code>). This function works with either a single Zillow property ID or a vector of IDs:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/GetZestimates.html">GetZestimate</a></span>(<span class="dt">zpids=</span> zpidex ,
             <span class="dt">rentzestimate=</span><span class="ot">TRUE</span> , <span class="dt">api_key=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">getOption</a></span>(<span class="st">'ZillowR-zws_id'</span>))
<span class="co">#&gt; # A tibble: 1 x 20</span>
<span class="co">#&gt;   address zipcode city  state   lat  long region_name region_id type </span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;</span>
<span class="co">#&gt; 1 600 S ~ 67114   Newt~ KS     38.0 -97.3 Newton      19619     city </span>
<span class="co">#&gt; # ... with 11 more variables: zestimate &lt;dbl&gt;, zest_lastupdated &lt;date&gt;,</span>
<span class="co">#&gt; #   zest_monthlychange &lt;dbl&gt;, zest_percentile &lt;dbl&gt;, zestimate_low &lt;dbl&gt;,</span>
<span class="co">#&gt; #   zestimate_high &lt;dbl&gt;, rentzestimate &lt;dbl&gt;, rent_lastupdated &lt;date&gt;,</span>
<span class="co">#&gt; #   rent_monthlychange &lt;dbl&gt;, rentzestimate_low &lt;dbl&gt;,</span>
<span class="co">#&gt; #   rentzestimate_high &lt;dbl&gt;</span></code></pre></div>
<p>If you want more detailed information on a specific property (such as utilities, appliances, and other building information), you can specify the ZPID and return the results with <code>GetUpdatedPropertyDetails</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/GetUpdatedPropertyDetails.html">GetUpdatedPropertyDetails</a></span>(<span class="dt">zpid=</span><span class="dv">2084934591</span> ,
                           <span class="dt">api_key=</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">getOption</a></span>(<span class="st">'ZillowR-zws_id'</span>))
<span class="co">#&gt;                    address zipcode city state     lat      long</span>
<span class="co">#&gt; 1 312 Hayward Ave UNIT 102   50014 Ames    IA 42.0198 -93.65168</span>
<span class="co">#&gt;            useCode bedrooms bathrooms finishedSqFt heatingSources numUnits</span>
<span class="co">#&gt; 1 MultiFamily5Plus        1       1.0          400     Other, Gas        6</span>
<span class="co">#&gt;   currentMonth total</span>
<span class="co">#&gt; 1            1     1</span></code></pre></div>
</div>
<div id="non-api-regional-time-series-data" class="section level2">
<h2 class="hasAnchor">
<a href="#non-api-regional-time-series-data" class="anchor"></a>Non-API Regional Time Series Data</h2>
<p>There are also a few options for retrieving non-API data. Get the time series of property values aggregated by region and type with <code>get_rental_listings</code> and/or <code>get_ZHVI_series</code>. These return dataframes of time series data for the selected geographic aggregation level and property type, read from a static .csv hosted by Zillow. For options on the arguments, see the introduction vignette.</p>
<p>For the median home property values:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Pull the data by zipcode for 4 bedrooms</span>
<span class="kw"><a href="reference/get_ZHVI_series.html">get_ZHVI_series</a></span>(<span class="dt">bedrooms=</span><span class="dv">3</span>,<span class="dt">geography=</span><span class="st">"Zip"</span>)</code></pre></div>
<p>For the median rental values:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Rental values for Single Family Residences by State</span>
<span class="kw"><a href="reference/get_rental_listings.html">get_rental_listings</a></span>(<span class="dt">type=</span><span class="st">'SFR'</span>, <span class="dt">rate=</span><span class="st">'PerSqFt'</span>,<span class="dt">geography=</span><span class="st">"State"</span>)</code></pre></div>
<p>For both functions, the return is a dataframe with the first few columns giving the geographic region and the rest corresponding to monthly observations. This dataframe can be reshaped or formatted as necessary for analysis.</p>
<p>Please see the vignette (under articles) to see further documentation and examples of <code>realEstAnalytics</code>’ capabilities.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/xiyuansun/realEstAnalytics">https://​github.com/​xiyuansun/​realEstAnalytics</a>
</li>
<li>Report a bug at <br><a href="https://github.com/xiyuansun/realEstAnalytics/issues">https://​github.com/​xiyuansun/​realEstAnalytics/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Xiyuan Sun <br><small class="roles"> Author, maintainer </small>  </li>
<li>Gani Agadilov <br><small class="roles"> Author </small>  </li>
<li>Oscar Aguilar <br><small class="roles"> Author </small>  </li>
<li>Steve Harms <br><small class="roles"> Author </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/xiyuansun/realEstAnalytics"><img src="https://travis-ci.org/xiyuansun/realEstAnalytics.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/gh/xiyuansun/realEstAnalytics?branch=master"><img src="https://codecov.io/gh/xiyuansun/realEstAnalytics/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Xiyuan Sun, Gani Agadilov, Oscar Aguilar, Steve Harms.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
